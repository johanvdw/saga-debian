From: Johan Van de Wauw <johan.vandewauw@gmail.com>
Date: Fri, 15 Nov 2013 00:06:46 -0500
Subject: Use qhull instead of triangle

---
 debian/changelog                                   |  5 +-
 .../patches/0002-Use-debian-version-of-grib2.patch | 85 ----------------------
 src/modules/grid/grid_gridding/Makefile.am         |  3 +-
 src/modules/grid/grid_gridding/nn/delaunay.c       |  2 +-
 4 files changed, 5 insertions(+), 90 deletions(-)
 delete mode 100644 debian/patches/0002-Use-debian-version-of-grib2.patch

diff --git a/debian/changelog b/debian/changelog
index c7d7aa6..628c2b1 100644
--- a/debian/changelog
+++ b/debian/changelog
@@ -1,4 +1,4 @@
-saga (2.1.1+dfsg-1) UNRELEASED; urgency=medium
+saga (2.1.2+dfsg-1) UNRELEASED; urgency=medium
 
   * Import new upstream (closes: #717624)
   * Fix patches - remove autoreconf results - rename configure.in
@@ -6,8 +6,9 @@ saga (2.1.1+dfsg-1) UNRELEASED; urgency=medium
   * Remove patch (included upstream)
   * Delete missing icons from menu fil
   * Bump standards version - no changes needed
+  * New upstream release
 
- -- Johan Van de Wauw <johan.vandewauw@gmail.com>  Thu, 09 Jan 2014 10:53:49 -0500
+ -- Johan Van de Wauw <johan.vandewauw@gmail.com>  Fri, 13 Jun 2014 00:11:04 +0200
 
 saga (2.1.0+dfsg-1) unstable; urgency=low
 
diff --git a/debian/patches/0002-Use-debian-version-of-grib2.patch b/debian/patches/0002-Use-debian-version-of-grib2.patch
deleted file mode 100644
index 5d7121c..0000000
--- a/debian/patches/0002-Use-debian-version-of-grib2.patch
+++ /dev/null
@@ -1,85 +0,0 @@
-From: Johan Van de Wauw <johan.vandewauw@gmail.com>
-Date: Thu, 14 Nov 2013 21:00:49 -0500
-Subject: Use debian version of grib2
-
----
- src/modules_io/grid/io_grid_grib2/Makefile.am    | 50 +-----------------------
- src/modules_io/grid/io_grid_grib2/grib2_import.h |  2 +-
- 2 files changed, 2 insertions(+), 50 deletions(-)
-
-diff --git a/src/modules_io/grid/io_grid_grib2/Makefile.am b/src/modules_io/grid/io_grid_grib2/Makefile.am
-index 2d6ff24..7e006ae 100644
---- a/src/modules_io/grid/io_grid_grib2/Makefile.am
-+++ b/src/modules_io/grid/io_grid_grib2/Makefile.am
-@@ -11,57 +11,9 @@ DEF_SAGA           = -D_SAGA_LINUX -D_TYPEDEF_BYTE -D_TYPEDEF_WORD -DUSE_JPEG200
- CXX_INCS           = -I$(top_srcdir)/src/saga_core $(LOCAL_INCS)
- AM_CXXFLAGS        = -fPIC $(CXX_INCS) $(DEF_SAGA) $(UC_DEFS) $(DBGFLAGS) $(GOMPFLAGS)
- #AM_LDFLAGS         = -fPIC -shared -avoid-version -lpq -ljasper
--AM_LDFLAGS         = -fPIC -shared -avoid-version $(LOCAL_LIBS) -ljasper
-+AM_LDFLAGS         = -fPIC -shared -avoid-version $(LOCAL_LIBS) -ljasper -lgrib2c
- pkglib_LTLIBRARIES = libio_grid_grib2.la
- libio_grid_grib2_la_SOURCES =\
--./g2clib-1.0.4/cmplxpack.c\
--./g2clib-1.0.4/compack.c\
--./g2clib-1.0.4/comunpack.c\
--./g2clib-1.0.4/dec_jpeg2000.c\
--./g2clib-1.0.4/dec_png.c\
--./g2clib-1.0.4/drstemplates.c\
--./g2clib-1.0.4/enc_jpeg2000.c\
--./g2clib-1.0.4/enc_png.c\
--./g2clib-1.0.4/g2_addfield.c\
--./g2clib-1.0.4/g2_addgrid.c\
--./g2clib-1.0.4/g2_addlocal.c\
--./g2clib-1.0.4/g2_create.c\
--./g2clib-1.0.4/g2_free.c\
--./g2clib-1.0.4/g2_getfld.c\
--./g2clib-1.0.4/g2_gribend.c\
--./g2clib-1.0.4/g2_info.c\
--./g2clib-1.0.4/g2_miss.c\
--./g2clib-1.0.4/g2_unpack1.c\
--./g2clib-1.0.4/g2_unpack2.c\
--./g2clib-1.0.4/g2_unpack3.c\
--./g2clib-1.0.4/g2_unpack4.c\
--./g2clib-1.0.4/g2_unpack5.c\
--./g2clib-1.0.4/g2_unpack6.c\
--./g2clib-1.0.4/g2_unpack7.c\
--./g2clib-1.0.4/gbits.c\
--./g2clib-1.0.4/getdim.c\
--./g2clib-1.0.4/getpoly.c\
--./g2clib-1.0.4/gridtemplates.c\
--./g2clib-1.0.4/int_power.c\
--./g2clib-1.0.4/jpcpack.c\
--./g2clib-1.0.4/jpcunpack.c\
--./g2clib-1.0.4/misspack.c\
--./g2clib-1.0.4/mkieee.c\
--./g2clib-1.0.4/pack_gp.c\
--./g2clib-1.0.4/pdstemplates.c\
--./g2clib-1.0.4/pngpack.c\
--./g2clib-1.0.4/pngunpack.c\
--./g2clib-1.0.4/rdieee.c\
--./g2clib-1.0.4/reduce.c\
--./g2clib-1.0.4/seekgb.c\
--./g2clib-1.0.4/simpack.c\
--./g2clib-1.0.4/simunpack.c\
--./g2clib-1.0.4/specpack.c\
--./g2clib-1.0.4/specunpack.c\
--./g2clib-1.0.4/drstemplates.h\
--./g2clib-1.0.4/grib2.h\
--./g2clib-1.0.4/gridtemplates.h\
--./g2clib-1.0.4/pdstemplates.h\
- grib2_import.cpp\
- MLB_Interface.cpp\
- grib2_import.h\
-diff --git a/src/modules_io/grid/io_grid_grib2/grib2_import.h b/src/modules_io/grid/io_grid_grib2/grib2_import.h
-index 6381b89..5ab426b 100644
---- a/src/modules_io/grid/io_grid_grib2/grib2_import.h
-+++ b/src/modules_io/grid/io_grid_grib2/grib2_import.h
-@@ -11,7 +11,7 @@
- 
- #include "MLB_Interface.h"
- extern "C" {
--#include "g2clib-1.0.4/grib2.h"
-+#include <grib2.h>
- }
- 
- 
diff --git a/src/modules/grid/grid_gridding/Makefile.am b/src/modules/grid/grid_gridding/Makefile.am
index 75c79c9..bc55004 100644
--- a/src/modules/grid/grid_gridding/Makefile.am
+++ b/src/modules/grid/grid_gridding/Makefile.am
@@ -13,7 +13,7 @@ endif
 DEF_SAGA           = -D_SAGA_LINUX -D_TYPEDEF_BYTE -D_TYPEDEF_WORD
 CXX_INCS           = -I$(top_srcdir)/src/saga_core
 AM_CXXFLAGS        = -fPIC $(CXX_INCS) $(DEP_DEFS) $(DEF_SAGA) $(UC_DEFS) $(DBGFLAGS) $(GOMPFLAGS)
-AM_LDFLAGS         = -fPIC -shared -avoid-version
+AM_LDFLAGS         = -fPIC -shared -avoid-version -lqhull
 pkglib_LTLIBRARIES = libgrid_gridding.la
 libgrid_gridding_la_SOURCES =\
 Interpolation.cpp\
@@ -34,7 +34,6 @@ Shepard.cpp\
 ./nn/nnai.c\
 ./nn/nncommon.c\
 ./nn/nnpi.c\
-./nn/triangle.c\
 Interpolation.h\
 Interpolation_AngularDistance.h\
 Interpolation_InverseDistance.h\
diff --git a/src/modules/grid/grid_gridding/nn/delaunay.c b/src/modules/grid/grid_gridding/nn/delaunay.c
index dc98875..e2952fa 100644
--- a/src/modules/grid/grid_gridding/nn/delaunay.c
+++ b/src/modules/grid/grid_gridding/nn/delaunay.c
@@ -24,7 +24,7 @@
  *
  *****************************************************************************/
 
-//#define USE_QHULL
+#define USE_QHULL
 
 #include <stdlib.h>
 #include <stdio.h>
